<script type="text/javascript">
    RED.nodes.registerType('iot data out',{
        category: 'iotExplorer',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            server: { value: null, type: "iot-explorer-server" },
            pubType: { value: "property" },
            pubTopic: { value: "" },
        },
        inputs:1,
        outputs:1,
        align: 'right',
        icon: "arrow-in.svg",
        label: function() {
            return this.name || `发送数据 ${this.pubTopic ? 'custom' : this.pubType}`;
        }
    });
</script>

<script type="text/html" data-template-name="iot data out">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i>Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-globe"></i>Server</label>
        <input type="text" id="node-input-server" placeholder="Server">
    </div>
    <div class="form-row">
        <label for="node-input-pubType"><i class="fa fa-tag"></i>Type</label>
        <select id="node-input-pubType">
            <option value ="property">属性 property</option>
            <option value ="event">事件 event</option>
            <option value="action">行为 action</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-pubTopic"><i class="fa fa-tag"></i>Topic</label>
        <input type="text" id="node-input-pubTopic" placeholder="Topic">
    </div>
</script>

<script type="text/html" data-help-name="iot data out">
    <p>read or write iot device info</p>
</script>